var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{h(i.next(t))}catch(e){o(e)}}function a(t){try{h(i["throw"](t))}catch(e){o(e)}}function h(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}h((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;h;)try{if(r=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return h.label++,{value:n[1],done:!1};case 5:h.label++,o=n[1],n=[0];continue;case 7:n=h.ops.pop(),h.trys.pop();continue;default:if(s=h.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){h=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){h.label=n[1];break}if(6===n[0]&&h.label<s[1]){h.label=s[1],s=n;break}if(s&&h.label<s[2]){h.label=s[2],h.ops.push(n);break}s[2]&&h.ops.pop(),h.trys.pop();continue}n=e.call(t,h)}catch(i){n=[6,i],o=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,s,a,h={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function i(i){e.call(n,i,t)}if(RES.hasRes(t)){var r=RES.getRes(t);r?i(r):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){var e=t.call(this)||this;return e._movePoint=new egret.Point,e.once(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){var e=new egret.ImageLoader;e.once(egret.Event.COMPLETE,this.imgLoaderHandler,this),e.load("resource/Controller/back1.png");var n=new egret.ImageLoader;n.once(egret.Event.COMPLETE,this.imgLoader2Handler,this),n.load("resource/Controller/button1.png")},e.prototype.imgLoaderHandler=function(t){var e=t.currentTarget.data,n=new egret.Texture;n.bitmapData=e,this.buttonBack1=new egret.Bitmap(n),this.buttonBack1.x=.1*this.stage.$stageWidth,this.buttonBack1.y=.6*this.stage.$stageHeight,this.addChild(this.buttonBack1)},e.prototype.imgLoader2Handler=function(t){var n=t.currentTarget.data,i=new egret.Texture;i.bitmapData=n,this.button1=new egret.Bitmap(i),this.button1.x=.1*this.stage.$stageWidth+e._dis_max,this.button1.y=.6*this.stage.$stageHeight+e._dis_max,this.addChild(this.button1),this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.handlerMove,this)},e.prototype.touchMoveHandler=function(t){this._movePoint.x=t.stageX,this._movePoint.y=t.stageY;var n=egret.Point.distance(this._startPoint,this._movePoint);if(n<=e._dis_max)this.button1.x=.1*this.stage.$stageWidth+e._dis_max+this._movePoint.x-this._startPoint.x,this.button1.y=.6*this.stage.$stageHeight+e._dis_max+this._movePoint.y-this._startPoint.y;else{var i=egret.Point.interpolate(this._movePoint,this._startPoint,e._dis_max/n);this.button1.x=i.x-10,this.button1.y=i.y-10}},e.prototype.cancelHandler=function(t){this.button1.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveHandler,this),this.button1.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.cancelHandler,this),this.button1.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.cancelHandler,this),this.button1.x=.1*this.stage.$stageWidth+e._dis_max,this.button1.y=.6*this.stage.$stageHeight+e._dis_max,egret.Tween.removeTweens(this.button1),egret.Tween.get(this.button1).to({x:.1*this.stage.$stageWidth+e._dis_max,y:.6*this.stage.$stageHeight+e._dis_max},50,egret.Ease.backOut)},e.prototype.handlerMove=function(t){this._movePoint.x=t.stageX,this._movePoint.y=t.stageY;var n=egret.Point.distance(new egret.Point(.1*this.stage.$stageWidth+e._dis_max,.6*this.stage.$stageHeight+e._dis_max),this._movePoint);n<=e._dis_max&&(null==this._startPoint&&(this._startPoint=new egret.Point),this._startPoint.x=t.stageX,this._startPoint.y=t.stageY,this.button1.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveHandler,this),this.button1.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.cancelHandler,this))},e._dis_max=40,e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,i){function r(t){e.call(i,t)}function o(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),n.call(i))}var s=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,n){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(i,generateEUI2)},s)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var h=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(i,generateJSON.paths[t])},this):RES.getResByUrl(h,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){e.call(i,generateJSON.paths[t])},s)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(t,r,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);